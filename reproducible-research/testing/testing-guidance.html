

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>General guidance and good practice for testing &#8212; NIA Grant</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-dropdown.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/book-stylesheet.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-167881009-1"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-167881009-1');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reproducible-research/testing/testing-guidance';</script>
    <script src="../../_static/script.js"></script>
    <link rel="canonical" href="https://book.the-turing-way.org/reproducible-research/testing/testing-guidance.html" />
    <link rel="icon" href="../../_static/favicon-32x32.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content">⚠️<i>GTPCI PhD</i> Data Science Track <a href='https://abikesa.github.io/flow/abikesa_stata.html'>2020</a>2024</div>
</aside>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="https://grantome.com/images/front/in-it-win-it-square.png" class="logo__image only-light" alt="NIA Grant - Home"/>
    <script>document.write(`<img src="https://grantome.com/images/front/in-it-win-it-square.png" class="logo__image only-dark" alt="NIA Grant - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../index.html">
                    Fixes
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../foreword/foreword.html">Foreword</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../foreword/background.html">Background</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reproducible-research.html">Guide for Reproducible Research</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../overview.html">Overview</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/overview-definitions.html">Definitions</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../project-design/project-design.html">Guide for Project Design</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../project-design/pd-overview.html">Overview of Project Design</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../project-design/pd-overview/pd-overview-planning.html">Planning for Project Design</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../communication/communication.html">Guide for Communication</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../communication/comms-overview.html">Overview of Guide for Communication</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../communication/comms-overview/comms-overview-principles.html">Principles of Communicating with Wider Audiences</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../collaboration/collaboration.html">Guide for Collaboration</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../collaboration/github-novice.html">Getting Started With GitHub</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../collaboration/github-novice/github-novice-motivation.html">Motivation for Using GitHub</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../collaboration/academic-industry.html">Academic-Industry Collaborations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../collaboration/academic-industry/academic-industry-establish.html">Establishing an Academic-Industry Collaboration</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/academic-industry/case-study-library.html">Case Study Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../collaboration/academic-industry/online-resources-best-practices.html">Online Resources</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ethical-research/ethical-research.html">Guide for Ethical Research</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ethical-research/ethics-intro.html">Introduction to Research Ethics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ethical-research/law-policy/law-policy-ethics.html">Ethics and law</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../community-handbook/community-handbook.html">Community Handbook</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community-handbook/coc.html">Code of Conduct</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../community-handbook/coc/coc-details.html">Code of Conduct in Detail</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../afterword/afterword.html">Afterword</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../afterword/legal-disclaimer.html">Legal Disclaimer</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/the-turing-way/the-turing-way" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/the-turing-way/the-turing-way/edit/main/book/website/reproducible-research/testing/testing-guidance.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/the-turing-way/the-turing-way/issues/new?title=Issue%20on%20page%20%2Freproducible-research/testing/testing-guidance.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/reproducible-research/testing/testing-guidance.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>General guidance and good practice for testing</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#write-tests-any-tests">Write Tests - Any Tests!</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-tests">Run the tests</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#consider-how-long-it-takes-your-tests-to-run">Consider how long it takes your tests to run</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#document-the-tests-and-how-to-run-them">Document the tests and how to run them</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#test-realistic-cases">Test Realistic Cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-a-testing-framework">Use a Testing Framework</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aim-to-have-a-good-code-coverage">Aim to have a good code coverage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-test-doubles-stubs-mocking-where-appropriate">Use test doubles/stubs/mocking where appropriate</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="general-guidance-and-good-practice-for-testing">
<span id="rr-testing-guidance"></span><h1>General guidance and good practice for testing<a class="headerlink" href="#general-guidance-and-good-practice-for-testing" title="Permalink to this heading">#</a></h1>
<p>There are several different kinds of testing which each have best practice specific to them (see <a class="reference internal" href="testing-overview.html#rr-testing-types-of-testing"><span class="std std-ref">Types of Testing</span></a>).
Nevertheless, there is some general guidance that applies to all of them, which will be outlined here.</p>
<section id="write-tests-any-tests">
<span id="rr-testing-write-tests"></span><h2>Write Tests - Any Tests!<a class="headerlink" href="#write-tests-any-tests" title="Permalink to this heading">#</a></h2>
<p>Starting the process of writing tests can be overwhelming, especially if you have a large code base. Further to that, as mentioned, there are many kinds of tests, and implementing all of them can seem like an impossible mountain to climb.
That is why the single most important piece of guidance in this chapter is as follows: <strong>write some tests</strong>.
Testing one tiny thing in a code that’s thousands of lines long is infinitely better than testing nothing in a code that’s thousands of lines long.
You may not be able to do everything, but doing <em>something</em> is valuable.</p>
<p>Make improvements where you can, and do your best to include tests with new code you write even if it’s not feasible to write tests for all the code that’s already written.</p>
</section>
<section id="run-the-tests">
<h2>Run the tests<a class="headerlink" href="#run-the-tests" title="Permalink to this heading">#</a></h2>
<p>The second most important piece of advice in this chapter: run the tests.
Having a beautiful, perfect test suite is no use if you rarely run it.
Leaving long gaps between test runs makes it more difficult to track down what has gone wrong when a test fails because, a lot of the code will have changed.
Also, if it has been weeks or months since tests have been run and they fail, it is difficult or impossible to know which results that have been obtained in the mean time are still valid, and which have to be thrown away as they could have been impacted by the bug.</p>
<p>It is best to automate your testing as far as possible.
If each test needs to be run individually then that boring painstaking process is likely to get neglected.
This can be done by making use of a testing framework (<a class="reference internal" href="#use-a-testing-framework">discussed later</a>).
<a class="reference external" href="https://jenkins.io">Jenkins</a> is another good tool for this. Ideally set your tests up to run at regular intervals, possibly every night.</p>
<p>Consider setting up continuous integration (discussed in the continuous integration chapter) on your project. This will automatically run your tests each time you make a change to your code and, depending on the continuous integration software you use, will notify you if any of the tests fail.</p>
</section>
<section id="consider-how-long-it-takes-your-tests-to-run">
<h2>Consider how long it takes your tests to run<a class="headerlink" href="#consider-how-long-it-takes-your-tests-to-run" title="Permalink to this heading">#</a></h2>
<p>Some tests, like <a class="reference internal" href="testing-unittest.html#rr-testing-unittest"><span class="std std-ref">Unit Testing</span></a> only test a small piece of code and so typically are very fast.
However other kinds of tests, such as <a class="reference internal" href="testing-systemtest.html#rr-testing-systemtest"><span class="std std-ref">System Testing</span></a> which test the entire code from end to end, may take a long time to run depending on the code.
As such it can be obstructive to run the entire test suite after each little bit of work.
In that case it is better to run lighter weight tests such as unit tests frequently, and longer tests only once per day overnight. It is also good to scale the number of each kind of tests you have in relation to how long they take to run.
You should have a lot of unit tests (or other types of tests that are fast) but much fewer tests which take a long time to run.</p>
</section>
<section id="document-the-tests-and-how-to-run-them">
<h2>Document the tests and how to run them<a class="headerlink" href="#document-the-tests-and-how-to-run-them" title="Permalink to this heading">#</a></h2>
<p>It is important to provide documentation that describes how to run the tests, both for yourself in case you come back to a project in the future, and for anyone else that may wish to build upon or reproduce your work.
This documentation should also cover subjects such as</p>
<ul class="simple">
<li><p>Any resources, such as test dataset files that are required</p></li>
<li><p>Any configuration/settings adjustments needed to run the tests</p></li>
<li><p>What software (such as <a class="reference internal" href="#use-a-testing-framework">testing frameworks</a>) need to be installed</p></li>
</ul>
<p>Ideally, you would provide scripts to set up and configure any resources that are needed.</p>
</section>
<section id="test-realistic-cases">
<h2>Test Realistic Cases<a class="headerlink" href="#test-realistic-cases" title="Permalink to this heading">#</a></h2>
<p>Make the cases you test as realistic as possible.
If for example, you have dummy data to run tests on you should make sure that data is as similar as possible to the actual data.
If your actual data is messy with a lot of null values, so should your test dataset be.</p>
</section>
<section id="use-a-testing-framework">
<h2>Use a Testing Framework<a class="headerlink" href="#use-a-testing-framework" title="Permalink to this heading">#</a></h2>
<p>There are tools available to make writing and running tests easier, these are known as testing frameworks.
Find one you like, learn about the features it offers, and make use of them. Common testing frameworks (and the languages they apply to) include:</p>
<ul class="simple">
<li><p>Language agnostic</p>
<ul>
<li><p>CTest, test runner for executables, bash scripts, and more. Great for legacy code hardening</p></li>
</ul>
</li>
<li><p>C++</p>
<ul>
<li><p>Catch</p></li>
<li><p>CppTest</p></li>
<li><p>Boost::Test</p></li>
<li><p>google-test</p></li>
</ul>
</li>
<li><p>C</p>
<ul>
<li><p>all C++ frameworks</p></li>
<li><p>Check</p></li>
<li><p>CUnit</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While modern C++ and C are still mostly compatible, they’re not completely and using test framework interchangeably may not always work.</p>
</div>
<ul class="simple">
<li><p>Python</p>
<ul>
<li><p>pytest (recommended)</p></li>
<li><p>unittest comes with standard Python library</p></li>
</ul>
</li>
<li><p>R unit-tests</p>
<ul>
<li><p>testthat</p></li>
<li><p>tinytest</p></li>
<li><p>svUnit (works with SciViews GUI)</p></li>
</ul>
</li>
<li><p>Fortran unit-tests:</p>
<ul>
<li><p>funit</p></li>
<li><p>pfunit (works with MPI)</p></li>
</ul>
</li>
<li><p>julia</p>
<ul>
<li><p>Test.jl (stdlib)</p></li>
<li><p>ReTest.jl</p></li>
</ul>
</li>
</ul>
</section>
<section id="aim-to-have-a-good-code-coverage">
<h2>Aim to have a good code coverage<a class="headerlink" href="#aim-to-have-a-good-code-coverage" title="Permalink to this heading">#</a></h2>
<p>Code coverage is a measure of how much of your code is “covered” by tests.
More precisely it a measure of how much of your code is run when tests are conducted.
So for example, if you have an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement but only test things where that if statement evaluates to “False” then none of the code in the if block will be run.
As a result your code coverage would be &lt; 100%.
Code coverage doesn’t include documentation like comments, so adding more documentation doesn’t affect your percentages.</p>
<p>As discussed any tests are an improvement over no tests.
Nevertheless it is good to at least aspire to having your code coverage as high as feasible.</p>
<p>Most programming languages have tools either built into them, or that can be imported, or as part of testing frameworks, which automatically measure code coverage.
There’s a nice little <a class="reference external" href="https://codecov.io/">bot</a> for measuring code coverage available too.</p>
<p><strong>Pitfall: The illusion of good coverage.</strong> In some instances, the same code can and probably should be tested in multiple ways.
For example, coverage can quickly increase on code that applies “sanity check” tests to its output (see also {ref}<rr-testing-challenges-difficult-quatify>), but this doesn’t preclude the risk that the code is producing the broadly right answer for the wrong reasons.
In general, the best tests are those that isolate the smaller rather than larger chunks of coherent code, and so pick out individual steps of logic.
Try to be guided by thinking about the possible things that might happen to a particular chunk of code in the execution of the whole, and test these individual cases.
Often, this will result in the same code being tested multiple times - this is a good thing!</p>
</section>
<section id="use-test-doubles-stubs-mocking-where-appropriate">
<span id="rr-testing-guidance-mocking"></span><h2>Use test doubles/stubs/mocking where appropriate<a class="headerlink" href="#use-test-doubles-stubs-mocking-where-appropriate" title="Permalink to this heading">#</a></h2>
<p>If a test fails it should be constructed such that it is as easy to trace the source of the failure as possible.
This becomes problematic if a piece of code you want to test unavoidably depends on other things.
For example if a test for a piece of code that interacts with the web fails, that could be because the code has a bug <em>or</em> because there is a problem with the internet connection.
Similarly if a test for a piece of code that uses an object fails it could be because there is a bug in the code being tested, or a problem with the object (which should be tested by its own, separate tests).
These dependencies should be eliminated from tests, if possible.
This can be done by using test replacements (test doubles) in the place of the real dependencies.
Test doubles can be classified as follows:</p>
<ul class="simple">
<li><p>A dummy object is passed around but never used, meaning its methods are never called.
Such an object can for example be used to fill the parameter list of a method.</p></li>
<li><p>Fake objects have working implementations, but are usually simplified.
For example, they use an in memory database and not a real database.</p></li>
<li><p>A stub is a partial implementation for an interface or class with the purpose of using an instance of this stub during testing.
Stubs usually don’t respond to anything outside what’s programmed in for the test.
Stubs may also record information about calls.</p></li>
<li><p>A mock object is a dummy implementation for an interface or a class in which you define the output of certain method calls.
Mock objects are configured to perform a certain behaviour during a test.
They typically record the interaction with the system and tests can validate that.</p></li>
</ul>
<p>Test doubles can be passed to other objects which are tested.</p>
<p>You can create mock objects manually (via code) or use a mock framework to simulate these classes. Mock frameworks allow you to create mock objects at runtime and define their behaviour. The classical example for a mock object is a data provider.
In production an implementation to connect to the real data source is used.
But for testing a mock object simulates the data source and ensures that the test conditions are always the same.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./reproducible-research/testing"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#write-tests-any-tests">Write Tests - Any Tests!</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-tests">Run the tests</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#consider-how-long-it-takes-your-tests-to-run">Consider how long it takes your tests to run</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#document-the-tests-and-how-to-run-them">Document the tests and how to run them</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#test-realistic-cases">Test Realistic Cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-a-testing-framework">Use a Testing Framework</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aim-to-have-a-good-code-coverage">Aim to have a good code coverage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-test-doubles-stubs-mocking-where-appropriate">Use test doubles/stubs/mocking where appropriate</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By ADM
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  The Turing Way Community makes all of their materials publicly available under  <a href="https://github.com/the-turing-way/the-turing-way/blob/main/LICENSE.md">open source licenses</a>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>